{% extends "layout.html" %}

{% block title %}
Doamin coloring of complex Function
{% endblock %}

{% block content %}

<div align="center">
  <div id="complex-canvas"></div>
</div>


<script src="{{ url_for('static', filename='js/util.js')}}" type="text/javascript"></script>
<script>

 window.onload = () => {
     // Activate selected <li> in sidebar
     $("ul.nav").find("li.active").removeClass("active");
     $("li#li-complex").addClass("active");

     // Domain coloring
     const resolution = 600;
     const range = 4; // drawing range
     var complexFunc = math.gamma; // (z) => (z.pow(3).add(1));

     // [-Pi, +PI] => [0, 2*PI] => [0, 1]
     var normalizeArg = angle => ((angle + 2*Math.PI) % (2*Math.PI)) / (2*Math.PI);

     // x: right, y: up
     var args = d3.cross(
         d3.range(-range, range, 2*range/resolution).reverse(),
         d3.range(-range, range, 2*range/resolution)
     ).map(coord => {
         var transformed = complexFunc(math.complex(...coord.reverse()));
         return normalizeArg(math.complex(transformed).arg());
     });

     imshow("complex-canvas", args, 600, d3.interpolateSinebow);
 }

</script>


{% endblock %}
